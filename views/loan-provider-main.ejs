<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Provider Main</title>
    <link rel="stylesheet" href="/style.css" onerror="this.onerror=null;this.href='../public/style.css';">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <!-- <h1>Welcome <%=Fname%> <%=Lname%> email: <%=email%></h1> -->
    <!--Navbar-->
    <nav class="navbar">
        <div class="navdiv">
            <div class="logo"><a onclick="showLogout()">Loan Matcher</a></div>
                <div class="container">
                    <ul>
                        <li><a href="#" id="create-post-link">Create Post</a></li>
                        <li><a href="#" id="my-post-link">My Post</a></li>
                        <li><a href="#" id="matched-post-link">Matched Posts</a></li>
                        <li><a href="#" id="accepted-post-link">Accepted Posts</a></li>
                        <li><a href="#" id="settings-button">Settings</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <!--Sidebar-->
    <div class="sidebar" id="settings-sidebar">
        <h2>Settings</h2>
        <h4>Welcome <%=email%></h4>
        <ul>
            <!-- <li><button onclick="editUserInfo()">Edit Info</button></li> -->
            <li><button onclick="showLogout()">Logout</button></li>
        </ul>
    </div>
    <!--Overlay-->
    <div class="overlay" id="sidebar-overlay"></div>
    <!--Notifications-->
    <!-- <div class="notification-popup" id="notification-popup">
        <h3>Notifications</h3>
        <ul>
            <li>New message from Alice</li>
            <li>Your loan application has been approved!</li>
            <li>Reminder: Complete your profile.</li>
        </ul>
        <button onclick="closeNotification()">Close</button>
    </div> -->
    <!--Create post-->
    <!-- Create Post Pop-Up -->
    <div class="create-post-popup" id="create-post-popup">
        <h2>Create a New Offer</h2>
        <form id="offer-form">
            <label for="post-title">Title:</label>
            <input type="text" id="post-title" name="title" required>
    
            <label for="min-rate">Minimum Interest Rate (%)</label>
            <input type="number" id="min-rate" name="min-rate" required>
    
            <label for="min-term-length">Minimum Term Length</label>
            <div class="min-term-length">
                <input type="date" id="min-start-date" name="min-start-date" placeholder="Start Date" required />
                <span class="date-separator">to</span>
                <input type="date" id="min-end-date" name="min-end-date" placeholder="End Date" required />
            </div>
    
            <label for="max-term-length">Maximum Term Length</label>
            <div class="max-term-length">
                <input type="date" id="max-start-date" name="max-start-date" placeholder="Start Date" required />
                <span class="date-separator">to</span>
                <input type="date" id="max-end-date" name="max-end-date" placeholder="End Date" required />
            </div>
    
            <label for="post-description">Description:</label>
            <textarea id="post-description" name="description" rows="5" required></textarea>
            
            <label for="post-category">Category:</label>
            <select id="post-category" name="category" required>
                <option value="finance">Finance</option>
                <option value="real-estate">Real Estate</option>
                <option value="business">Business</option>
                <option value="other">Other</option>
            </select>
            
            <label for="post-min-amount">Minimum Loan Amount ($):</label>
            <input type="number" id="post-min-amount" name="min-amount" required>
            <label for="post-max-amount">Maximum Loan Amount ($):</label>
            <input type="number" id="post-max-amount" name="max-amount" required>
    
            <button type="submit">Submit</button>
            <button type="button" id="cancel-post">Cancel</button>
        </form>
    </div>    
    <div class="matched-post-popup" id="matched-post-popup">
        <h2>Matched Posts</h2>
        <div id="matched-posts-container" class="matched-posts-container">
            <!-- Posts will be dynamically inserted here -->
        </div>
    </div>
    
    <div class="accepted-post-popup" id="accepted-post-popup">
        <h2>Accepted Posts</h2>
        <div id="accepted-posts-container" class="accepted-posts-container">
            <!-- Accepted posts will be dynamically inserted here -->
        </div>
    </div>
    
    <footer>&copy; 2024 Loan Matcher. All rights reserved.</footer>
    <script src="/script.js" onerror="this.onerror=null;this.src='../public/script.js';"></script>
    <script src="/event/createOfferEvent.js"></script>
</body>
</html>
